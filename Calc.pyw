# Calculadora sencilla
import tkinter as tk
#<------------------------------------------------------------------------------------------------------------------>
class calculadora(tk.Frame):
#<------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------>               
    def __init__(self, master=None):
        super().__init__(master) 
        self.master = master
        self.pack()
        
        self.parametros()
        self.boton_click()
        self.btn()
        self.btn_action()
        self.borrar()
#<------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------>                        
    def parametros(self):
        self.lista = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9] 
        self.entrada = tk.Entry(self, width=20, justify="right") 
        self.entrada.grid(row=0, column=0, columnspan=4)
#<------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------>              
    def calcular(self): 
        try:
            self.resultado = eval(self.entrada.get()) 
            self.op = self.entrada.get() + "=" 
            self.entrada.delete(0, tk.END) 
            self.entrada.insert(0, (self.op, self.resultado)) 
        except:
            self.entrada.delete(0, tk.END) 
            self.entrada.insert(0, "Error") 
    def btn(self):
        botones = [ 
            self.lista[7], self.lista[8], self.lista[9], "//",
            self.lista[4], self.lista[5], self.lista[6], "*",
            self.lista[1], self.lista[2], self.lista[3], "-",
            self.lista[0], ".", "+"
        ]
        fila = 1 
        columna = 0 
        for boton in botones: 
            tk.Button(self, text=boton, width=5, height=2, command=lambda valor=boton: self.boton_click(valor)).grid(row=fila, column=columna) #Se declaran los parámetros que obtendrán cada uno de los botones y el lugar que ocuparán dentro de la interfaz y con command se ejecuta la nueva variable creada con lambda se define que se insertará un número dentro del espacio de entrada, esto dependiendo del botón.
            columna += 1 
            if columna > 3: 
                columna = 0 
                fila += 1 
#<---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------->                               
    def boton_click(self, valor=0): 
        self.entrada.insert(tk.END, valor)   
#<---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------->               
    def borrar(self):
        self.entrada.delete(0, tk.END) 
#<------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------>               
    def recuperacion(self):
        rec= (f"{self.op} {self.resultado}")
        self.entrada.delete(0, tk.END)
        self.entrada.insert(0, rec)
#<------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------>               
    def btn_action(self):
        tk.Button(self, text="=", command=self.calcular,width=5, height=2).grid(row=4, column=3) 
        tk.Button(self, text="AC",command=self.borrar, width=5, height=2).grid(row=5, column=2, columnspan=2) 
        tk.Button(self, text="<--",command=self.recuperacion, width=5, height=2).grid(row=5, column=0, columnspan=2)
#<------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------>               
def main():
    app = tk.Tk()
    app.title("Calculadora")
    
    ventana = calculadora(app)
    ventana.mainloop()

if __name__ == "__main__": 
    main() 